% !TEX root = z_output/_EHPSS.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%% 80 characters %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[11pt]{article}
\input{../macros.tex}
\usepackage{pgfmath}
\begin{document}

\begin{center}
\newcommand{\Inputnum}{5}
\newcommand{\pntxshift}[2]{2*#1-2*#2+.5}
\newcommand{\pntyshift}[2]{1.5*#1-1.5*#2+.5}
\newcommand{\pntx}[1]{\pntxshift{#1}{0}}
\newcommand{\pnty}[1]{\pntyshift{#1}{0}}
\newcommand{\pnt}[2]{(\pntx{#1},\pnty{#2})}
\newcommand{\IFexceeds}[2]{\ifthenelse{\Inputnum>#1}{#2}{}}
\newcommand{\IFexceedsELSE}[3]{\ifthenelse{\Inputnum>#1}{#2}{#3}}
\begin{tikzpicture}
    %Axes
\IFexceeds{4.999}{
	\path \pnt{3}{3} node {$\Omega S^{n+1}$};}

    \foreach \y in {0,...,3}
        \path (-.05,\pnty{\y}) edge node[left] {\y} (.05,\pnty{\y});
    \draw[->] (0,-0.2) -- (0,\pnty{3}+.4);
    \foreach \x in {0,...,6}
        \path (\pntx{\x},-.05) edge node[below] {\x} (\pntx{\x},.05);
    \draw[->] (-0.2,0) -- (\pntx{6}+.4,0);
	\path (-1,2.75) node {$\Omega S^{n+1}$};
	\path (+3.5,-.76) node {$S^{n+1}$};
    %Points
    \path (.5,.5) node (v00) {$\Z$};
    \path (2.5,.5) node (v10) {$\Z$};
    \path (4.5,.5) node (v20) {$0$};
    \path (.5,2) node (v01) {$\Z$};
    \path (2.5,2) node (v11) {$\Z$};
    \path (4.5,2) node (v21) {$0$};
    \path (.5,3.5) node (v02) {$\Z$};
    \path (2.5,3.5) node (v12) {$\Z$};
    \path (4.5,3.5) node (v22) {$0$};
    %Arrow
    \draw [->] (v10) edge node[above]{$\simeq$} (v01);
    \draw [->] (v11) edge node[above]{$\simeq$} (v02);

	\draw[dashed] (\pntx{.5},0)--\pnt{.5}{1.5}--\pnt{1.5}{1.5}--\pnt{1.5}{3.5}--\pnt{2.5}{3.5}--\pnt{2.5}{3.7};



%    \foreach \x [evaluate=\x as \y using 2*\x-1] in {1,...,7}
%        {\path (\pntxshift{\x}{1},\pnty{5}) node (ATerms\x) {$\Omega^{\x}S^{\x}$};
%        \path (\pntxshift{\x}{1},\pnty{4}) node (ETerms\x) {$\Omega^{\x}S^{\y}$};
%        \draw [->] (ATerms\x) edge node[right]{\tiny$h$} (ETerms\x);
%        \draw [->] (ATerms\x) edge node[right]{\tiny$h$} (ATerms\x);
%}
\path (\pntxshift{0}{1},\pnty{5}) node (ATerms0) {$\Omega^{0}S^{0}$};
    \foreach \x/\y/\z in {1/1/0,2/3/1,3/5/2,4/7/3,5/9/4,6/11/5,7/13/6}
        {\path (\pntxshift{\x}{1},\pnty{5}) node (ATerms\x) {$\Omega^{\x}S^{\x}$};
        \path (\pntxshift{\x}{1},\pnty{4}) node (ETerms\x) {$\Omega^{\x}S^{\y}$};
        \draw [->] (ATerms\x) edge node[left]{\tiny$h$} (ETerms\x);
        \draw [->] (ATerms\z) edge node[below]{\tiny$e$} (ATerms\x);
        \draw [->,dashed] (ETerms\x) edge node[right]{\tiny$p$} (ATerms\z);
}


%[remember=\x as \lastx (initially 0)]
%	\draw[dashed,->] (5.5,2+1.5) -- (7,2+1.5);
%	\draw[dashed,->] (5.5,2-+1.5) -- (7,2-1.5);
\end{tikzpicture}
\end{center}


\end{document}
\begin{center}
\begin{tikzpicture}[scale=.95]
    \foreach \x in {-1,...,9,11,13,...,31}
        \path (.5*\x,-.2) node[below] {\x};
    \foreach \y in {0,...,9}
        \path (-.7,.5*\y) node[left] {\y};
    \foreach \x in {-1,...,31}
    \foreach \y in {0,...,9}
		\path (.5*\x,.5*\y) node {\tiny$\cdot$};
    \foreach \x in {0,2,...,30}
		\path[->] (.5*\x,0) edge node[above] {\small$2\iota$}  (.5*\x-.5,0);
    \foreach \x in {1,5,...,29}
		\path[->] (.5*\x,0) edge node[right] {\small$\eta$}  (.5*\x-1,.5);
    \foreach \x in {3,11,...,27}
		\path[->] (.5*\x,0) edge node[above] {\small$\nu$}  (.5*\x-2,1.5);
    \foreach \x in {7,23}
		\path[->] (.5*\x,0) edge node[above] {\small$\sigma$}  (.5*\x-4,3.5);
    \foreach \x in {15}
		\path[->] (.5*\x,0) edge node[above] {\small$\eta\sigma$}  (.5*\x-4.5,4);
    \foreach \x in {31}
		\path[->] (.5*\x,0) edge node[above] {\small$\eta^2\sigma$}  (.5*\x-5,4.5);
\end{tikzpicture}
\end{center}